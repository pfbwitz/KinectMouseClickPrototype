<!DOCTYPE html>
<!-- saved from url=(0068)https://a-jie.github.io/Proton/example/render/webgl/webglrender.html -->
<html><head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" /> 
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <title>proton.js-render-webglrender</title>

    <style type="text/css">
        body {
            background-color: #333333;
            margin: 0px;
            overflow: hidden;
        }
        #container {
            width: 1500px;
            height: 610px;

            position: absolute;
        }

        #testCanvas {
            background: #000;
        }
    </style>
</head>
	<body>
		<div id="container">
			<canvas id="testCanvas"></canvas>
		<div id="stats" style="width: 80px; opacity: 0.9; cursor: pointer; position: absolute; left: 0px; top: 0px;"><div id="fps" style="padding: 0px 0px 3px 3px; text-align: left; background-color: rgb(0, 0, 34);"><div id="fpsText" style="color: rgb(0, 255, 255); font-family: Helvetica, Arial, sans-serif; font-size: 9px; font-weight: bold; line-height: 15px;">60 FPS (0-60)</div><div id="fpsGraph" style="position: relative; width: 74px; height: 30px; background-color: rgb(0, 255, 255);"><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12.3px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span><span style="width: 1px; height: 12px; float: left; background-color: rgb(17, 17, 51);"></span></div></div><div id="ms" style="padding: 0px 0px 3px 3px; text-align: left; background-color: rgb(0, 34, 0); display: none;"><div id="msText" style="color: rgb(0, 255, 0); font-family: Helvetica, Arial, sans-serif; font-size: 9px; font-weight: bold; line-height: 15px;">7 MS (1-18)</div><div id="msGraph" style="position: relative; width: 74px; height: 30px; background-color: rgb(0, 255, 0);"><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.4px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.4px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.7px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.4px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.4px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.7px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.7px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.7px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.7px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.55px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.1px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.25px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.1px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.1px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.4px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.1px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 28.95px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.1px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 28.2px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 29.1px; float: left; background-color: rgb(17, 51, 17);"></span><span style="width: 1px; height: 28.95px; float: left; background-color: rgb(17, 51, 17);"></span></div></div></div></div>
		<script src="js/JavaScript1.js"></script>
		<script src="js/proton-2.1.0.min.js"></script>
	<script>
	    var w = window,
        d = document,
        e = d.documentElement,
        g = d.getElementsByTagName('body')[0],
        x = w.innerWidth || e.clientWidth || g.clientWidth,
        y = w.innerHeight || e.clientHeight || g.clientHeight;
	       

		    var proton;
		    var renderer;
		    var emitter;
		    var stats;
		    var canvas;
		    var context;
		    var _mousedown = false;

		    Main();
		    function Main() {


		        canvas = document.getElementById("testCanvas");
		        canvas.width = x;
		        canvas.height = y; 

		        container = document.getElementById("container");
		        container.width = x;
		        container.height = y;
		        addStats();

		        createProton();
		        tick();
		        canvas.addEventListener('mousemove', mousemoveHandler, false);
		        canvas.addEventListener('mousedown', mousedownHandler, false);
		        canvas.addEventListener('mouseup', mouseupHandler, false);
		    }

		    function addStats() {
		        stats = new Stats();
		        stats.setMode(2);
		        stats.domElement.style.position = 'absolute';
		        stats.domElement.style.left = '0px';
		        stats.domElement.style.top = '0px';
		        document.getElementById('container').appendChild(stats.domElement);
		    }

		    function createProton() {
		        proton = new Proton;
		        createImageEmitter();

		        renderer = new Proton.Renderer('webgl', proton, canvas);
		        renderer.blendFunc("SRC_ALPHA", "ONE");
		        renderer.start();
		    }

		    function createImageEmitter() {
		        emitter = new Proton.Emitter();
		        emitter.rate = new Proton.Rate(new Proton.Span(5, 10), new Proton.Span(.01, .015));
		        emitter.addInitialize(new Proton.Mass(1));
		        emitter.addInitialize(new Proton.Life(1, 2));
		        emitter.addInitialize(new Proton.ImageTarget(['image/particle.png'], 32));
		        emitter.addInitialize(new Proton.Radius(40));
		        emitter.addInitialize(new Proton.V(new Proton.Span(1, 3), 65, 'polar'));
		        emitter.addBehaviour(new Proton.Alpha(1, 0));
		        emitter.addBehaviour(new Proton.Color('#4F1500', '#0029FF'));
		        emitter.addBehaviour(new Proton.Scale(3, 0.1));
		        emitter.addBehaviour(new Proton.CrossZone(new Proton.RectZone(0, 0, x, y), 'dead'));
		        emitter.p.x = x / 2;
		        emitter.p.y = y / 2;
		        emitter.emit();
		        proton.addEmitter(emitter);
		    }

		    function mousedownHandler(e) {
		        _mousedown = true;
		    }

		    function mousemoveHandler(e) {
		        if (_mousedown) {
		            if (e.layerX || e.layerX == 0) {
		                emitter.p.x = e.layerX;
		                emitter.p.y = e.layerY;
		            } else if (e.offsetX || e.offsetX == 0) {
		                emitter.p.x = e.offsetX;
		                emitter.p.y = e.offsetY;
		            }
		        }
		    }

		    function mouseupHandler(e) {
		        _mousedown = false;
		    }

		    function tick() {
		        requestAnimationFrame(tick);

		        stats.begin();
		        proton.update();
		        stats.end();
		    }


		</script>
	
</body></html>